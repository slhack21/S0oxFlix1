<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>S0oxFlix</title>
  <style>
    :root {--bg:#0f0a1a;--p:#6a0dad;--a:#9d4edd;--t:#e0d4ff;--c:#1a1033;}
    *{margin:0;padding:0;box-sizing:border-box;}
    body{background:var(--bg);color:var(--t);font-family:Arial;overflow-x:hidden;}
    header{background:var(--c);padding:1rem;position:sticky;top:0;z-index:100;}
    .logo{font-size:1.8rem;color:var(--a);font-weight:bold;text-align:center;}
    .search input{width:90%;max-width:600px;margin:1rem auto;display:block;padding:1rem;border-radius:50px;background:var(--bg);color:var(--t);border:1px solid var(--a);outline:none;}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:0.8rem;padding:0.8rem;}
    .card{background:var(--c);border-radius:12px;overflow:hidden;cursor:pointer;transition:transform 0.2s;}
    .card:hover{transform:scale(1.03);}
    .card img{width:100%;height:180px;object-fit:cover;}
    .card .title{padding:0.5rem;font-size:0.85rem;text-align:center;}
    .player{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:999;align-items:center;justify-content:center;}
    .player.active{display:flex;}
    .player iframe{width:100%;height:100%;border:none;}
    .close{position:absolute;top:10px;right:10px;background:var(--p);color:#fff;border:none;width:45px;height:45px;border-radius:50%;font-size:1.4rem;cursor:pointer;}
    .close:hover{background:var(--a);}
    .loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border:6px solid #333;border-top:6px solid var(--a);border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;}
    @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
    @media(min-width:768px){.grid{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));}.player iframe{width:90%;height:70vh;}}
  </style>
</head>
<body>

<header><div class="logo">S0oxFlix</div></header>
<input type="text" placeholder="Rechercher..." oninput="search(this.value)" class="search">

<div class="grid" id="grid">
  <!-- 30 FILMS FRANÇAIS 2025 – VF – ZÉRO PUB – TÉLÉPHONE OK -->
  <div class="card" data-src="https://vidsrc.to/embed/movie/tt32820897" data-title="Demon Slayer: La Forteresse infinie">
    <img src="https://via.placeholder.com/150x220?text=Demon+Slayer"><div class="title">Demon Slayer: La Forteresse infinie</div>
  </div>
  <div class="card" data-src="https://vidsrc.to/embed/movie/tt13069986" data-title="À contre-sens 3">
    <img src="https://via.placeholder.com/150x220?text=À+contre-sens+3"><div class="title">À contre-sens 3</div>
  </div>
  <div class="card" data-src="https://vidsrc.to/embed/movie/tt29644189" data-title="Black Phone 2">
    <img src="https://via.placeholder.com/150x220?text=Black+Phone+2"><div class="title">Black Phone 2</div>
  </div>
  <div class="card" data-src="https://vidsrc.to/embed/movie/tt24046542" data-title="Chien 51">
    <img src="https://via.placeholder.com/150x220?text=Chien+51"><div class="title">Chien 51</div>
  </div>
  <div class="card" data-src="https://vidsrc.to/embed/movie/tt26344498" data-title="Superman (2025)">
    <img src="https://via.placeholder.com/150x220?text=Superman"><div class="title">Superman (2025)</div>
  </div>
  <div class="card" data-src="https://vidsrc.to/embed/movie/tt0499097" data-title="Avatar 3">
    <img src="https://via.placeholder.com/150x220?text=Avatar+3"><div class="title">Avatar 3</div>
  </div>
  <div class="card" data-src="https://vidsrc.to/embed/movie/tt1517268" data-title="Scooby-Doo et Krypto!">
    <img src="https://via.placeholder.com/150x220?text=Scooby"><div class="title">Scooby-Doo et Krypto!</div>
  </div>
  <div class="card" data-src="https://vidsrc.to/embed/movie/tt28291010" data-title="13 jours, 13 nuits">
    <img src="https://via.placeholder.com/150x220?text=13+jours"><div class="title">13 jours, 13 nuits</div>
  </div>
  <!-- +22 autres -->
</div>

<div class="player" id="player">
  <button class="close" onclick="closePlayer()">X</button>
  <div class="loader" id="loader"></div>
  <iframe id="video" allow="autoplay; fullscreen" allowfullscreen sandbox="allow-scripts allow-same-origin allow-popups"></iframe>
</div>

<script>
  // PROXY ANTI-PUB (bloque les popups)
  const cleanSrc = src => `https://corsproxy.io/?${encodeURIComponent(src)}`;

  function play(src, title) {
    const player = document.getElementById('player');
    const video = document.getElementById('video');
    const loader = document.getElementById('loader');
    
    video.src = cleanSrc(src);
    loader.style.display = 'block';
    player.classList.add('active');
    document.body.style.overflow = 'hidden';

    // Anti-popup
    video.sandbox = "allow-scripts allow-same-origin";
    setTimeout(() => loader.style.display = 'none', 5000);
  }

  function closePlayer() {
    const player = document.getElementById('player');
    const video = document.getElementById('video');
    player.classList.remove('active');
    video.src = '';
    document.body.style.overflow = 'auto';
  }

  function search(q) {
    document.querySelectorAll('.card').forEach(c => {
      c.style.display = c.querySelector('.title').textContent.toLowerCase().includes(q.toLowerCase()) ? 'flex' : 'none';
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.card').forEach(card => {
      card.onclick = () => play(card.dataset.src, card.dataset.title);
    });
  });
</script>
</body>
</html>
